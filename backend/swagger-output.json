{
  "swagger": "2.0",
  "info": {
    "title": "üìá MyContacts API",
    "description": "API RESTful pour la gestion des contacts. Cette documentation est g√©n√©r√©e automatiquement avec swagger-autogen. üí°\n\nüîê Certaines routes n√©cessitent un token JWT.\nüëâ Connectez-vous via `/login` pour r√©cup√©rer un token et ajoutez-le dans le bouton *Authorize* (en haut √† droite).",
    "version": "1.0.0"
  },
  "host": "localhost:8000",
  "basePath": "/",
  "tags": [
    {
      "name": "Authentification",
      "description": "Endpoints pour l'inscription et la connexion"
    },
    {
      "name": "Contacts",
      "description": "Gestion des contacts (CRUD)"
    }
  ],
  "schemes": [
    "http"
  ],
  "securityDefinitions": {
    "BearerAuth": {
      "type": "apiKey",
      "name": "Authorization",
      "in": "header",
      "description": "Saisissez le token JWT sous la forme : `Bearer <votre_token>`"
    }
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/getUsers": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/register": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "firstName": {
                  "example": "any"
                },
                "lastName": {
                  "example": "any"
                },
                "email": {
                  "example": "any"
                },
                "password": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/login": {
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": {
                  "example": "any"
                },
                "password": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/contacts": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "post": {
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "firstName": {
                  "example": "any"
                },
                "lastName": {
                  "example": "any"
                },
                "phone": {
                  "example": "any"
                },
                "email": {
                  "example": "any"
                },
                "genre": {
                  "example": "any"
                },
                "createdAt": {
                  "example": "any"
                },
                "address": {
                  "example": "any"
                },
                "postalCode": {
                  "example": "any"
                },
                "city": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/search": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "query",
            "in": "query",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "contacts/{id}": {
      "get": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/contacts/{id}": {
      "patch": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "firstName": {
                  "example": "any"
                },
                "lastName": {
                  "example": "any"
                },
                "phone": {
                  "example": "any"
                },
                "email": {
                  "example": "any"
                },
                "genre": {
                  "example": "any"
                },
                "address": {
                  "example": "any"
                },
                "postalCode": {
                  "example": "any"
                },
                "city": {
                  "example": "any"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      },
      "delete": {
        "description": "",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          },
          {
            "name": "authorization",
            "in": "header",
            "type": "string"
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "401": {
            "description": "Unauthorized"
          },
          "404": {
            "description": "Not Found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    }
  },
  "definitions": {
    "RegisterUser": {
      "type": "object",
      "properties": {
        "firstName": {
          "type": "string",
          "example": "Jean"
        },
        "lastName": {
          "type": "string",
          "example": "Dupont"
        },
        "email": {
          "type": "string",
          "example": "jean.dupont@example.com"
        },
        "password": {
          "type": "string",
          "example": "123456"
        }
      }
    },
    "LoginUser": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "example": "jean.dupont@example.com"
        },
        "password": {
          "type": "string",
          "example": "123456"
        }
      }
    },
    "Contact": {
      "type": "object",
      "properties": {
        "firstName": {
          "type": "string",
          "example": "Marie"
        },
        "lastName": {
          "type": "string",
          "example": "Curie"
        },
        "email": {
          "type": "string",
          "example": "marie.curie@example.com"
        },
        "phone": {
          "type": "string",
          "example": "+33123456789"
        },
        "address": {
          "type": "string",
          "example": "12 rue de la Paix, Paris"
        },
        "company": {
          "type": "string",
          "example": "CNRS"
        },
        "notes": {
          "type": "string",
          "example": "Contact de recherche"
        }
      }
    },
    "ContactUpdate": {
      "type": "object",
      "properties": {
        "firstName": {
          "type": "string",
          "example": "Marie"
        },
        "lastName": {
          "type": "string",
          "example": "Curie"
        },
        "email": {
          "type": "string",
          "example": "marie.curie@example.com"
        },
        "phone": {
          "type": "string",
          "example": "+33123456789"
        },
        "address": {
          "type": "string",
          "example": "12 rue de la Paix, Paris"
        },
        "company": {
          "type": "string",
          "example": "CNRS"
        },
        "notes": {
          "type": "string",
          "example": "Contact de recherche mis √† jour"
        }
      }
    },
    "AuthResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": true
        },
        "message": {
          "type": "string",
          "example": "Connexion r√©ussie"
        },
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        },
        "user": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "example": "60d5ec49f1b2c72b8c8e4f1a"
            },
            "firstName": {
              "type": "string",
              "example": "Jean"
            },
            "lastName": {
              "type": "string",
              "example": "Dupont"
            },
            "email": {
              "type": "string",
              "example": "jean.dupont@example.com"
            }
          }
        }
      }
    },
    "ContactResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": true
        },
        "contact": {
          "type": "object",
          "properties": {
            "id": {
              "type": "string",
              "example": "60d5ec49f1b2c72b8c8e4f1b"
            },
            "firstName": {
              "type": "string",
              "example": "Marie"
            },
            "lastName": {
              "type": "string",
              "example": "Curie"
            },
            "email": {
              "type": "string",
              "example": "marie.curie@example.com"
            },
            "phone": {
              "type": "string",
              "example": "+33123456789"
            },
            "address": {
              "type": "string",
              "example": "12 rue de la Paix, Paris"
            },
            "company": {
              "type": "string",
              "example": "CNRS"
            },
            "notes": {
              "type": "string",
              "example": "Contact de recherche"
            },
            "createdAt": {
              "type": "string",
              "example": "2025-10-09T10:30:00.000Z"
            },
            "updatedAt": {
              "type": "string",
              "example": "2025-10-09T10:30:00.000Z"
            }
          }
        }
      }
    },
    "ContactsResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": true
        },
        "contacts": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "example": "60d5ec49f1b2c72b8c8e4f1b"
              },
              "firstName": {
                "type": "string",
                "example": "Marie"
              },
              "lastName": {
                "type": "string",
                "example": "Curie"
              },
              "email": {
                "type": "string",
                "example": "marie.curie@example.com"
              },
              "phone": {
                "type": "string",
                "example": "+33123456789"
              },
              "address": {
                "type": "string",
                "example": "12 rue de la Paix, Paris"
              },
              "company": {
                "type": "string",
                "example": "CNRS"
              },
              "notes": {
                "type": "string",
                "example": "Contact de recherche"
              },
              "createdAt": {
                "type": "string",
                "example": "2025-10-09T10:30:00.000Z"
              },
              "updatedAt": {
                "type": "string",
                "example": "2025-10-09T10:30:00.000Z"
              }
            }
          }
        },
        "total": {
          "type": "number",
          "example": 1
        }
      }
    },
    "ErrorResponse": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "example": false
        },
        "message": {
          "type": "string",
          "example": "Une erreur est survenue"
        },
        "error": {
          "type": "string",
          "example": "D√©tails de l'erreur"
        }
      }
    }
  },
  "@schemas": {
    "/register": {
      "post": {
        "tags": [
          "Authentification"
        ],
        "summary": "Inscription d'un nouvel utilisateur",
        "description": "Cr√©e un nouveau compte utilisateur et retourne un token JWT",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/RegisterUser"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Compte cr√©√© avec succ√®s",
            "schema": {
              "$ref": "#/definitions/AuthResponse"
            }
          },
          "400": {
            "description": "Donn√©es invalides ou email d√©j√† utilis√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": [
          "Authentification"
        ],
        "summary": "Connexion utilisateur",
        "description": "Authentifie un utilisateur et retourne un token JWT",
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/LoginUser"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Connexion r√©ussie",
            "schema": {
              "$ref": "#/definitions/AuthResponse"
            }
          },
          "400": {
            "description": "Requ√™te invalide",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "401": {
            "description": "Identifiants incorrects",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/contacts": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "R√©cup√©rer tous les contacts",
        "description": "Retourne la liste de tous les contacts de l'utilisateur connect√©",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "type": "integer",
            "description": "Num√©ro de page",
            "default": 1
          },
          {
            "in": "query",
            "name": "limit",
            "type": "integer",
            "description": "Nombre de contacts par page",
            "default": 10
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des contacts r√©cup√©r√©e avec succ√®s",
            "schema": {
              "$ref": "#/definitions/ContactsResponse"
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "post": {
        "tags": [
          "Contacts"
        ],
        "summary": "Cr√©er un nouveau contact",
        "description": "Ajoute un nouveau contact √† la liste",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/Contact"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Contact cr√©√© avec succ√®s",
            "schema": {
              "$ref": "#/definitions/ContactResponse"
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/search": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "Rechercher des contacts",
        "description": "Recherche des contacts par nom, email, t√©l√©phone ou entreprise",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "type": "string",
            "required": true,
            "description": "Terme de recherche"
          }
        ],
        "responses": {
          "200": {
            "description": "R√©sultats de recherche",
            "schema": {
              "$ref": "#/definitions/ContactsResponse"
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    },
    "/contacts/{id}": {
      "get": {
        "tags": [
          "Contacts"
        ],
        "summary": "R√©cup√©rer un contact par ID",
        "description": "Retourne les d√©tails d'un contact sp√©cifique",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "type": "string",
            "required": true,
            "description": "ID du contact"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact trouv√©",
            "schema": {
              "$ref": "#/definitions/ContactResponse"
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "404": {
            "description": "Contact non trouv√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Contacts"
        ],
        "summary": "Mettre √† jour un contact",
        "description": "Modifie les informations d'un contact existant (mise √† jour partielle)",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "type": "string",
            "required": true,
            "description": "ID du contact"
          },
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/ContactUpdate"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contact mis √† jour avec succ√®s",
            "schema": {
              "$ref": "#/definitions/ContactResponse"
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "404": {
            "description": "Contact non trouv√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Contacts"
        ],
        "summary": "Supprimer un contact",
        "description": "Supprime d√©finitivement un contact",
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "type": "string",
            "required": true,
            "description": "ID du contact"
          }
        ],
        "responses": {
          "200": {
            "description": "Contact supprim√© avec succ√®s",
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "example": true
                },
                "message": {
                  "type": "string",
                  "example": "Contact supprim√© avec succ√®s"
                }
              }
            }
          },
          "401": {
            "description": "Non authentifi√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          },
          "404": {
            "description": "Contact non trouv√©",
            "schema": {
              "$ref": "#/definitions/ErrorResponse"
            }
          }
        }
      }
    }
  }
}